<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- CSS Files -->
    <link rel="stylesheet" type="text/css" href="/css/github-markdown.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/css/style.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/css/pygment_trac.css" media="screen">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
    <!-- Scripts -->
    <script src="/js/affix.js"></script>
    <script src="/js/scrollspy.js"></script>
    <!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
    <title>Terrestrial Documentation</title>
</head>

<body data-spy="scroll" data-target=".scrollspy" >
    <div class="main-wrapper">
        <div class="header">
        </div>
        <div class="content-wrapper">
            <div id="nav" class="side-bar scrollspy" style="margin-top: 10px">
                <img src="/images/t_logo.png" style="width: 55px; position: absolute; margin-top: 10px;"/>
                
                <h1 class="main-title"><span style="font-size:18px;letter-spacing: 0px;">TERRESTRIAL</span><span style="display:block;margin-top: -4px;"> DOCUMENTATION</span></h1>
                <br>
                <br>
                <br>
                <br>
            </div>



            <section class="main-content markdown-body" id="main-content">
            	<div class="sidebar-shadow"></div>
            	<div class="sidebar-shadow-right"></div>
                				<section>
				<h1 class="main-title" style="display:none;">Development</h1>
				<br>
				
			  	

			  	

			    <section>

			    	
<h2 id="getting-started">Getting Started</h2>

<p>To get started, download our development toolkit from mission control <em>(if you haven’t signed up for mission control, you can sign up <a href="http://missioncontrol.terrestrial.io">here</a></em>).</p>

<p>When downloaded, open the package and complete the installation process.</p>

<p>To check if the command line interface has been installed, type the following command in your terminal and it should print the release version number.</p>

<pre><code>terrestrial -v
</code></pre>

<h3 id="ios">iOS</h3>

<p>To get started with iOS, first <em>cd</em> to your <strong>root project directory</strong> in your terminal window. This should be the folder that has your <strong><code>.xcodeproj</code></strong> file inside it.</p>

<blockquote>
  <p>Note: If you work in git, we recommend that you stage a commit before clicking finish so that you can revert any adverse changes that may occur.</p>
</blockquote>

<p>To connect your iOS app project to mission control, you will have to run a <strong>initialization</strong> command that you can find in the repository section of <a href="http://missioncontrol.terrestrial.io">mission control</a>.</p>

<p>While inside the project directory, run the command:</p>

<pre><code>terrestrial flight
</code></pre>

<p><em>To find out more about what the flight command does to your iOS project click <a href="#command-line-tool-flight">here</a></em></p>

<p>When you’ve run the flight command, a GUI dialog will slide down from the top of your screen and should look something like this:</p>

<p><img src="/images/flight.png" alt="Terrestrial flight" /></p>

<p>This dialog will show the strings that we have detected in your project as being human readable. You can review the strings to make sure we made the right choices using the <strong>‘Preview source’</strong> button to see where they were found in your project.</p>

<p>More importantly you can add <strong>context</strong> information about your strings to ensure that your translators perform the right translations.</p>

<blockquote>
  <h4 id="context-matters"><strong>Context Matters</strong></h4>

  <p>You should always give context whenever there is any ambiguity in your strings. Below are some example situations that we especially recommend you always give context information for:</p>

  <h4 id="strings-with-variables"><strong>Strings with variables</strong></h4>
  <hr />
  <p>Context should be given to any string with a <strong>variable placeholder</strong> inside it so that the translators understands the context of the words around it.</p>

  <p>This can be paricular important as some languages may say things in a different order depending on what the subject is.</p>

  <p>For example, in some languages the phrase “The Falcon 9 has landed” would be written as “Landed has the Falcon 9” or something to that effect.</p>

  <h4 id="same-words-different-meaning"><strong>Same words, different meaning</strong></h4>
  <hr />
  <p>For example you may have the world <strong><em>clear</em></strong> appear twice in your project but mean two different things:</p>

  <p><strong>clear (adjective)</strong>: <em>a transparent substance</em>.</p>

  <p>or</p>

  <p><strong>clear (adverb)</strong>: <em>so as to be out of the way of or away from.</em></p>

  <p>It is important that you give contextual information in situations like this to make sure it still makes sense in a different language.</p>
</blockquote>

<p>Upon clicking next you will see a dialog that will detail the operations that we will perform on your sourcecode once you click ‘Finish’.</p>

<p>This is what we will do to your iOS project:</p>

<ol>
  <li>
    <p>All the strings we detected will have <strong><code>.translated</code></strong> appended to them in your sourcecode. ( or <strong><code>.transatedWithContext()</code></strong> if you’ve added context )*</p>
  </li>
  <li>
    <p>Any storyboard UI elements with text that we’ve detected will have <strong>user-defined runtime variables</strong> added to them that will allow our framework to retrieve the right translation at runtime. <em>( This setting is also accessible in your Interface Builder through IBInspectiable properties ).</em></p>
  </li>
  <li>
    <p>A Terrestrial folder will be added to your project root directory with the following folder structure:</p>

    <ul>
      <li>Terrestrial
        <ul>
          <li>Framework
            <ul>
              <li>Terrestrial.framework</li>
            </ul>
          </li>
          <li>Translations</li>
          <li>Configuration</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>A reference to the ‘Translations’ folder will be added where all your translations from the web dashboard will be pulled to.</p>
  </li>
  <li>
    <p><strong>Terrestrial.framework</strong> will be added to your project as an <strong>Embedded Framework</strong> to all your project targets. All the files where our API is called will have the following import statement added to the top of each applicable file:</p>
  </li>
</ol>

<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="cp">#import &lt;Terrestrial/Terrestrial&gt;</span></code></pre></div>

<p>If you have a swift project you will have to create a <a href="http://www.learnswiftonline.com/getting-started/adding-swift-bridging-header/" target="_blank">Bridging Header</a> and paste the above import statement to it.</p>

<h3 id="android">Android</h3>

<p>To get started with Android, first <em>cd</em> to your <strong>root project directory</strong> in your terminal window.</p>

<p>To connect your Android app project to mission control, you will have to run a <strong>initialization</strong> command that you can find in the repository section of <a href="http://missioncontrol.terrestrial.io">mission control</a>.</p>

<p>While inside the project directory, run the command:</p>

<pre><code>terrestrial flight
</code></pre>

<p><em>To find out more about what the flight command does to your Android project, click <a href="#command-line-tool-flight">here</a></em></p>

<p>When you’ve run the flight command, a GUI dialog will slide down from the top of your screen and should look something like this:</p>

<blockquote>
  <h4 id="context-matters-1"><strong>Context Matters</strong></h4>

  <p>You should always give context whenever there is any ambiguity in your strings. Below are some example situations that we especially recommend you always give context information for:</p>

  <h4 id="strings-with-variables-1"><strong>Strings with variables</strong></h4>
  <hr />
  <p>Context should be given to any string with a <strong>variable placeholder</strong> inside it so that the translators understands the context of the words around it.</p>

  <p>This can be paricular important as some languages may say things in a different order depending on what the subject is.</p>

  <p>For example, in some languages the phrase “The Falcon 9 has landed” would be written as “Landed has the Falcon 9” or something to that effect.</p>

  <h4 id="same-words-different-meaning-1"><strong>Same words, different meaning</strong></h4>
  <hr />
  <p>For example you may have the world <strong><em>clear</em></strong> appear twice in your project but mean two different things:</p>

  <p><strong>clear (adjective)</strong>: <em>a transparent substance</em>.</p>

  <p>or</p>

  <p><strong>clear (adverb)</strong>: <em>so as to be out of the way of or away from.</em></p>

  <p>It is important that you give contextual information in situations like this to make sure it still makes sense in a different language.</p>
</blockquote>

<p>Upon clicking next you will see a dialog that will detail the operations that we will perform on your sourcecode once you click ‘Finish’.</p>

<p>This is what we will do to your Android project:</p>

<p>To keep track of which strings are localized with Terrestrial, the strings tags in your <strong>strings.xml</strong> file will be annotated with in the following fashion:</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;my_string&quot;</span> <span class="na">terrestrial=</span><span class="s">true</span> <span class="nt">&gt;</span>...</code></pre></div>

<p>If you’ve added sont context, a ‘context’ tag will also be added in the following fashion:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;my_string&quot;</span> <span class="na">terrestrial=</span><span class="s">true</span> <span class="na">context=</span><span class="s">&quot;my context&quot;</span> <span class="nt">&gt;</span>...</code></pre></div>

<p>When you pull strings from the online dashboard later, our tool wil automatically create the appropriate folder structure for the different languages and deposit the translated strings.xml files there.</p>


			    	
			    </section>

			    



				

			  	

			    <section>

			    	
<h2 id="command-line-tool">Command Line Tool</h2>

<p>Ths command line tool contains some commands that will allow you to localize your app project quickly.</p>

<p>The commands available to you are:</p>

<pre><code>terrestrial flight

terrestrial scan

terrestrial push

terrestrial pull
</code></pre>

<h3 id="flight">Flight</h3>

<pre><code>terrestrial flight
</code></pre>

<h4 id="ios">iOS</h4>

<p>With this command, Terrestrial will traverse your project structure &amp; analyze:</p>

<blockquote>
  <p><strong>.m</strong> files</p>

  <p><strong>.swift</strong> files</p>

  <p><strong>.storyboard</strong> files</p>
</blockquote>

<p>It will look inside these files for <strong>string literals</strong> and for each string that it finds, it will try to determine whether or not the particular string that it has found is intended to be seen by the end user &amp; hence whether is should be internationalized.</p>

<blockquote>

  <h4 id="intelligent-string-extraction"><strong>Intelligent String Extraction</strong></h4>

  <p>Our selection of strings to be translated is done by comparing each string against our internal string model, and it has a number of different rules about what constitutes a <strong>human readable string</strong> inside an app:</p>

  <p>For example, if a string found inside your project looks like:</p>

  <div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="s">&quot;thisIsMyString&quot;</span></code></pre></div>

  <p>One rule that Terrestrial uses checks that a strings isn’t camelCased, so such a string would be not picked up by our system. This rule, in combination with a nuumber of different rules allows Terrestrial to internationalize the majority of your app in just one command.</p>

</blockquote>

<h4 id="android">Android</h4>

<p>With this command, Terrestrial will traverse your project structure &amp; analyze your:</p>

<blockquote>
  <p><strong>strings.xml</strong> files</p>
</blockquote>

<p>It will look inside this file and for each string that it finds, it will try to determine whether or not the particular string that it has found is intended to be seen by the end user &amp; hence whether is should be internationalized.</p>

<blockquote>

  <h4 id="intelligent-string-extraction-1"><strong>Intelligent String Extraction</strong></h4>

  <p>Our selection of strings to be translated is done by comparing each string against our internal string model, and it has a number of different rules about what constitutes a <strong>human readable string</strong> inside an app:</p>

  <p>For example, if a string found inside your project looks like:</p>

  <div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="s">&quot;thisIsMyString&quot;</span></code></pre></div>

  <p>One rule that Terrestrial uses checks that a strings isn’t camelCased, so such a string would be not picked up by our system. This rule, in combination with a nuumber of different rules allows Terrestrial to internationalize the majority of your app in just one command.</p>

</blockquote>

<p>The subsequent operations will work with android’s localization file structure and create the appropriate files required.</p>

<h3 id="scan">Scan</h3>

<pre><code>terrestrial scan
</code></pre>

<p>This command will look through your project &amp; highlight any ommissions and additions of strings since the last ‘<a href="#command-line-tool-push">push</a>’ that may occur as you work.</p>

<h3 id="push">Push</h3>

<pre><code>terrestrial push
</code></pre>

<p>This will look through your project for all the appropriately tagged strings in your projects and push them up to mission control.</p>

<p>Make sure you have ran the <a href="#getting-started">initialisation</a> command before trying to push.</p>

<h3 id="pull">Pull</h3>

<pre><code>terrestrial pull
</code></pre>

<p>This will pull down translations from the online dashboard that are ready to be used.</p>

<h4 id="ios-1">iOS</h4>

<p>In iOS, the pull command with place <strong><code>.json</code></strong> files in the Terrestrial/Translations folder in your project root directory. With the Translations folder added as a referenced folder in your xcode project this will automatically build the translations in this folder with your app.</p>

<h4 id="android-1">Android</h4>

<p>In Android, the pull command will create the appropriate folder structure according to <a href="http://developer.android.com/guide/topics/resources/localization.html">android’s default localization specification</a> and place the translated <strong><code>strings.xml</code></strong> files in the right place.</p>


			    	
			    </section>

			    



				

			  	

			    <section>

			    	
<h2 id="ios-sdk">iOS SDK</h2>

<p>To install the SDK manually, you will have to make sure it is included in your project as an <strong>Embedded Binary</strong> :</p>

<p><img src="/images/embedded-binary.png" alt="Terrestrial Embedded Binary" /></p>

<h3 id="api">API</h3>

<p>To simply translate a String without any context you simply append <strong>.<code>translated</code></strong> to it.</p>

<p>This uses the string as a key to retrieve the right translated string at runtime.</p>

<p><strong>Objective C</strong></p>

<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="s">@&quot;This is my string&quot;</span> <span class="o">-&gt;</span> <span class="s">@&quot;This is my string&quot;</span><span class="p">.</span><span class="n">translated</span><span class="p">;</span></code></pre></div>

<p><strong>Swift</strong></p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="s">&quot;This is my string&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;This is my string&quot;</span><span class="p">.</span><span class="n">translated</span></code></pre></div>

<p>To translate with context, you invoke our <strong><code>translatedWithContext</code></strong> function. Context allows you to communicate to your translators more information about your text.</p>

<p>Because context may differentiate between two identical strings, the context you provide is also used in combination with the string to retrieve the right translated string at runtime.</p>

<p><strong>Objective C</strong></p>

<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="p">[</span><span class="s">@&quot;This is my string&quot;</span> <span class="nl">translatedWithContext</span><span class="p">:</span><span class="s">@&quot;Here&#39;s context&quot;</span><span class="p">];</span></code></pre></div>

<p><strong>Swift</strong></p>

<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="s">&quot;This is my string&quot;</span><span class="p">.</span><span class="n">translatedWithContext</span><span class="p">(</span><span class="s">&quot;Here&#39;s context&quot;</span><span class="p">)</span></code></pre></div>

<p>This context is then used in addition to your string to lookup the appropriate translation at runtime and distinguish between the same words/phrases but with different meaning.</p>

<p>The above functions also work with <strong>string variables</strong>:</p>

<p><strong>Objective C</strong></p>

<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="bp">NSString</span> <span class="o">*</span><span class="n">myString</span> <span class="o">=</span> <span class="s">@&quot;This is my string&quot;</span> <span class="p">;</span>
<span class="n">myString</span> <span class="o">=</span> <span class="n">myString</span><span class="p">.</span><span class="n">translated</span><span class="p">;</span>
<span class="n">myString</span> <span class="o">=</span> <span class="p">[</span><span class="n">myString</span> <span class="nl">translatedWithContext</span><span class="p">:</span><span class="s">@&quot;This is my string&#39;s context&quot;</span><span class="p">];</span></code></pre></div>

<p><strong>Swift</strong></p>

<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">var</span> <span class="n">myString</span> <span class="o">=</span> <span class="s">&quot;This is my string&quot;</span>
<span class="n">myString</span> <span class="o">=</span> <span class="n">myString</span><span class="p">.</span><span class="n">translated</span>
<span class="n">myString</span> <span class="o">=</span> <span class="n">myString</span><span class="p">.</span><span class="n">translatedWithContext</span><span class="p">(</span><span class="s">&quot;This is my string’s context&quot;</span><span class="p">)</span></code></pre></div>

<blockquote>
  <p>Note: these functions will not work with <strong>static strings</strong> or string declared with <strong>let</strong> as they cannot be changed at runtime.</p>
</blockquote>

<h4 id="helper-commands"><strong>Helper Commands</strong></h4>

<p>Manually setting language</p>

<p><strong>Objective C</strong></p>

<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="p">[[</span><span class="n">Terrestrial</span> <span class="n">sharedInstance</span><span class="p">]</span>  <span class="nl">setCurrentLanguageTo</span><span class="p">:</span><span class="s">&quot;&lt;language code&gt;&quot;</span><span class="p">];</span></code></pre></div>

<p><strong>Swift</strong></p>

<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">Terrestrial</span><span class="p">.</span><span class="n">sharedInstance</span><span class="p">().</span><span class="n">setCurrentLanguageTo</span><span class="p">(</span><span class="s">&quot;&lt;language code&gt;&quot;</span><span class="p">)</span></code></pre></div>


			    	
			    </section>

			    



				

			  	

			    <section>

			    	
<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="ios">iOS</h3>

<h4 id="dyld-library-not-loaded-rpathlibswiftcoredylib">“dyld: Library not loaded: @rpath/libswiftCore.dylib”</h4>

<p>You’ll probably encounter this error when trying to build an Objective C project with our framework.
In order to make our framework work just as seamlessly with Swift, we had to embed some swift code into it.</p>

<p>So if you encounter this error make sure that the setting:</p>

<p><strong>“Embedded Content Contains Swift Code”</strong></p>

<p>is set to <strong>YES</strong>  in your Target’s build settings as shown below:</p>

<p><img src="/images/embedded-swift.png" alt="Terrestrial Embedded Swift" /></p>


			    	
			    </section>

			    



				

			  	

			    <section>

			    	
<h2 id="faq">FAQ</h2>


			    	
			    </section>

			    



				

			  	



				

				</section>

		

            </section>
        </div>
    </div>
</body>
<!--
<body>
    <header>
        <div class="inner">
            <h1>Terrestrial Documentation</h1>
            <h2></h2>
        </div>
    </header>
    <div id="content-wrapper">
        <div class="inner clearfix">
            <section id="main-content">
                				<section>
				<h1 class="main-title" style="display:none;">Development</h1>
				<br>
				
			  	

			  	

			    <section>

			    	
<h2 id="getting-started">Getting Started</h2>

<p>To get started, download our development toolkit from mission control <em>(if you haven’t signed up for mission control, you can sign up <a href="http://missioncontrol.terrestrial.io">here</a></em>).</p>

<p>When downloaded, open the package and complete the installation process.</p>

<p>To check if the command line interface has been installed, type the following command in your terminal and it should print the release version number.</p>

<pre><code>terrestrial -v
</code></pre>

<h3 id="ios">iOS</h3>

<p>To get started with iOS, first <em>cd</em> to your <strong>root project directory</strong> in your terminal window. This should be the folder that has your <strong><code>.xcodeproj</code></strong> file inside it.</p>

<blockquote>
  <p>Note: If you work in git, we recommend that you stage a commit before clicking finish so that you can revert any adverse changes that may occur.</p>
</blockquote>

<p>To connect your iOS app project to mission control, you will have to run a <strong>initialization</strong> command that you can find in the repository section of <a href="http://missioncontrol.terrestrial.io">mission control</a>.</p>

<p>While inside the project directory, run the command:</p>

<pre><code>terrestrial flight
</code></pre>

<p><em>To find out more about what the flight command does to your iOS project click <a href="#command-line-tool-flight">here</a></em></p>

<p>When you’ve run the flight command, a GUI dialog will slide down from the top of your screen and should look something like this:</p>

<p><img src="/images/flight.png" alt="Terrestrial flight" /></p>

<p>This dialog will show the strings that we have detected in your project as being human readable. You can review the strings to make sure we made the right choices using the <strong>‘Preview source’</strong> button to see where they were found in your project.</p>

<p>More importantly you can add <strong>context</strong> information about your strings to ensure that your translators perform the right translations.</p>

<blockquote>
  <h4 id="context-matters"><strong>Context Matters</strong></h4>

  <p>You should always give context whenever there is any ambiguity in your strings. Below are some example situations that we especially recommend you always give context information for:</p>

  <h4 id="strings-with-variables"><strong>Strings with variables</strong></h4>
  <hr />
  <p>Context should be given to any string with a <strong>variable placeholder</strong> inside it so that the translators understands the context of the words around it.</p>

  <p>This can be paricular important as some languages may say things in a different order depending on what the subject is.</p>

  <p>For example, in some languages the phrase “The Falcon 9 has landed” would be written as “Landed has the Falcon 9” or something to that effect.</p>

  <h4 id="same-words-different-meaning"><strong>Same words, different meaning</strong></h4>
  <hr />
  <p>For example you may have the world <strong><em>clear</em></strong> appear twice in your project but mean two different things:</p>

  <p><strong>clear (adjective)</strong>: <em>a transparent substance</em>.</p>

  <p>or</p>

  <p><strong>clear (adverb)</strong>: <em>so as to be out of the way of or away from.</em></p>

  <p>It is important that you give contextual information in situations like this to make sure it still makes sense in a different language.</p>
</blockquote>

<p>Upon clicking next you will see a dialog that will detail the operations that we will perform on your sourcecode once you click ‘Finish’.</p>

<p>This is what we will do to your iOS project:</p>

<ol>
  <li>
    <p>All the strings we detected will have <strong><code>.translated</code></strong> appended to them in your sourcecode. ( or <strong><code>.transatedWithContext()</code></strong> if you’ve added context )*</p>
  </li>
  <li>
    <p>Any storyboard UI elements with text that we’ve detected will have <strong>user-defined runtime variables</strong> added to them that will allow our framework to retrieve the right translation at runtime. <em>( This setting is also accessible in your Interface Builder through IBInspectiable properties ).</em></p>
  </li>
  <li>
    <p>A Terrestrial folder will be added to your project root directory with the following folder structure:</p>

    <ul>
      <li>Terrestrial
        <ul>
          <li>Framework
            <ul>
              <li>Terrestrial.framework</li>
            </ul>
          </li>
          <li>Translations</li>
          <li>Configuration</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>A reference to the ‘Translations’ folder will be added where all your translations from the web dashboard will be pulled to.</p>
  </li>
  <li>
    <p><strong>Terrestrial.framework</strong> will be added to your project as an <strong>Embedded Framework</strong> to all your project targets. All the files where our API is called will have the following import statement added to the top of each applicable file:</p>
  </li>
</ol>

<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="cp">#import &lt;Terrestrial/Terrestrial&gt;</span></code></pre></div>

<p>If you have a swift project you will have to create a <a href="http://www.learnswiftonline.com/getting-started/adding-swift-bridging-header/" target="_blank">Bridging Header</a> and paste the above import statement to it.</p>

<h3 id="android">Android</h3>

<p>To get started with Android, first <em>cd</em> to your <strong>root project directory</strong> in your terminal window.</p>

<p>To connect your Android app project to mission control, you will have to run a <strong>initialization</strong> command that you can find in the repository section of <a href="http://missioncontrol.terrestrial.io">mission control</a>.</p>

<p>While inside the project directory, run the command:</p>

<pre><code>terrestrial flight
</code></pre>

<p><em>To find out more about what the flight command does to your Android project, click <a href="#command-line-tool-flight">here</a></em></p>

<p>When you’ve run the flight command, a GUI dialog will slide down from the top of your screen and should look something like this:</p>

<blockquote>
  <h4 id="context-matters-1"><strong>Context Matters</strong></h4>

  <p>You should always give context whenever there is any ambiguity in your strings. Below are some example situations that we especially recommend you always give context information for:</p>

  <h4 id="strings-with-variables-1"><strong>Strings with variables</strong></h4>
  <hr />
  <p>Context should be given to any string with a <strong>variable placeholder</strong> inside it so that the translators understands the context of the words around it.</p>

  <p>This can be paricular important as some languages may say things in a different order depending on what the subject is.</p>

  <p>For example, in some languages the phrase “The Falcon 9 has landed” would be written as “Landed has the Falcon 9” or something to that effect.</p>

  <h4 id="same-words-different-meaning-1"><strong>Same words, different meaning</strong></h4>
  <hr />
  <p>For example you may have the world <strong><em>clear</em></strong> appear twice in your project but mean two different things:</p>

  <p><strong>clear (adjective)</strong>: <em>a transparent substance</em>.</p>

  <p>or</p>

  <p><strong>clear (adverb)</strong>: <em>so as to be out of the way of or away from.</em></p>

  <p>It is important that you give contextual information in situations like this to make sure it still makes sense in a different language.</p>
</blockquote>

<p>Upon clicking next you will see a dialog that will detail the operations that we will perform on your sourcecode once you click ‘Finish’.</p>

<p>This is what we will do to your Android project:</p>

<p>To keep track of which strings are localized with Terrestrial, the strings tags in your <strong>strings.xml</strong> file will be annotated with in the following fashion:</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;my_string&quot;</span> <span class="na">terrestrial=</span><span class="s">true</span> <span class="nt">&gt;</span>...</code></pre></div>

<p>If you’ve added sont context, a ‘context’ tag will also be added in the following fashion:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">&quot;my_string&quot;</span> <span class="na">terrestrial=</span><span class="s">true</span> <span class="na">context=</span><span class="s">&quot;my context&quot;</span> <span class="nt">&gt;</span>...</code></pre></div>

<p>When you pull strings from the online dashboard later, our tool wil automatically create the appropriate folder structure for the different languages and deposit the translated strings.xml files there.</p>


			    	
			    </section>

			    



				

			  	

			    <section>

			    	
<h2 id="command-line-tool">Command Line Tool</h2>

<p>Ths command line tool contains some commands that will allow you to localize your app project quickly.</p>

<p>The commands available to you are:</p>

<pre><code>terrestrial flight

terrestrial scan

terrestrial push

terrestrial pull
</code></pre>

<h3 id="flight">Flight</h3>

<pre><code>terrestrial flight
</code></pre>

<h4 id="ios">iOS</h4>

<p>With this command, Terrestrial will traverse your project structure &amp; analyze:</p>

<blockquote>
  <p><strong>.m</strong> files</p>

  <p><strong>.swift</strong> files</p>

  <p><strong>.storyboard</strong> files</p>
</blockquote>

<p>It will look inside these files for <strong>string literals</strong> and for each string that it finds, it will try to determine whether or not the particular string that it has found is intended to be seen by the end user &amp; hence whether is should be internationalized.</p>

<blockquote>

  <h4 id="intelligent-string-extraction"><strong>Intelligent String Extraction</strong></h4>

  <p>Our selection of strings to be translated is done by comparing each string against our internal string model, and it has a number of different rules about what constitutes a <strong>human readable string</strong> inside an app:</p>

  <p>For example, if a string found inside your project looks like:</p>

  <div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="s">&quot;thisIsMyString&quot;</span></code></pre></div>

  <p>One rule that Terrestrial uses checks that a strings isn’t camelCased, so such a string would be not picked up by our system. This rule, in combination with a nuumber of different rules allows Terrestrial to internationalize the majority of your app in just one command.</p>

</blockquote>

<h4 id="android">Android</h4>

<p>With this command, Terrestrial will traverse your project structure &amp; analyze your:</p>

<blockquote>
  <p><strong>strings.xml</strong> files</p>
</blockquote>

<p>It will look inside this file and for each string that it finds, it will try to determine whether or not the particular string that it has found is intended to be seen by the end user &amp; hence whether is should be internationalized.</p>

<blockquote>

  <h4 id="intelligent-string-extraction-1"><strong>Intelligent String Extraction</strong></h4>

  <p>Our selection of strings to be translated is done by comparing each string against our internal string model, and it has a number of different rules about what constitutes a <strong>human readable string</strong> inside an app:</p>

  <p>For example, if a string found inside your project looks like:</p>

  <div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="s">&quot;thisIsMyString&quot;</span></code></pre></div>

  <p>One rule that Terrestrial uses checks that a strings isn’t camelCased, so such a string would be not picked up by our system. This rule, in combination with a nuumber of different rules allows Terrestrial to internationalize the majority of your app in just one command.</p>

</blockquote>

<p>The subsequent operations will work with android’s localization file structure and create the appropriate files required.</p>

<h3 id="scan">Scan</h3>

<pre><code>terrestrial scan
</code></pre>

<p>This command will look through your project &amp; highlight any ommissions and additions of strings since the last ‘<a href="#command-line-tool-push">push</a>’ that may occur as you work.</p>

<h3 id="push">Push</h3>

<pre><code>terrestrial push
</code></pre>

<p>This will look through your project for all the appropriately tagged strings in your projects and push them up to mission control.</p>

<p>Make sure you have ran the <a href="#getting-started">initialisation</a> command before trying to push.</p>

<h3 id="pull">Pull</h3>

<pre><code>terrestrial pull
</code></pre>

<p>This will pull down translations from the online dashboard that are ready to be used.</p>

<h4 id="ios-1">iOS</h4>

<p>In iOS, the pull command with place <strong><code>.json</code></strong> files in the Terrestrial/Translations folder in your project root directory. With the Translations folder added as a referenced folder in your xcode project this will automatically build the translations in this folder with your app.</p>

<h4 id="android-1">Android</h4>

<p>In Android, the pull command will create the appropriate folder structure according to <a href="http://developer.android.com/guide/topics/resources/localization.html">android’s default localization specification</a> and place the translated <strong><code>strings.xml</code></strong> files in the right place.</p>


			    	
			    </section>

			    



				

			  	

			    <section>

			    	
<h2 id="ios-sdk">iOS SDK</h2>

<p>To install the SDK manually, you will have to make sure it is included in your project as an <strong>Embedded Binary</strong> :</p>

<p><img src="/images/embedded-binary.png" alt="Terrestrial Embedded Binary" /></p>

<h3 id="api">API</h3>

<p>To simply translate a String without any context you simply append <strong>.<code>translated</code></strong> to it.</p>

<p>This uses the string as a key to retrieve the right translated string at runtime.</p>

<p><strong>Objective C</strong></p>

<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="s">@&quot;This is my string&quot;</span> <span class="o">-&gt;</span> <span class="s">@&quot;This is my string&quot;</span><span class="p">.</span><span class="n">translated</span><span class="p">;</span></code></pre></div>

<p><strong>Swift</strong></p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="s">&quot;This is my string&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;This is my string&quot;</span><span class="p">.</span><span class="n">translated</span></code></pre></div>

<p>To translate with context, you invoke our <strong><code>translatedWithContext</code></strong> function. Context allows you to communicate to your translators more information about your text.</p>

<p>Because context may differentiate between two identical strings, the context you provide is also used in combination with the string to retrieve the right translated string at runtime.</p>

<p><strong>Objective C</strong></p>

<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="p">[</span><span class="s">@&quot;This is my string&quot;</span> <span class="nl">translatedWithContext</span><span class="p">:</span><span class="s">@&quot;Here&#39;s context&quot;</span><span class="p">];</span></code></pre></div>

<p><strong>Swift</strong></p>

<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="s">&quot;This is my string&quot;</span><span class="p">.</span><span class="n">translatedWithContext</span><span class="p">(</span><span class="s">&quot;Here&#39;s context&quot;</span><span class="p">)</span></code></pre></div>

<p>This context is then used in addition to your string to lookup the appropriate translation at runtime and distinguish between the same words/phrases but with different meaning.</p>

<p>The above functions also work with <strong>string variables</strong>:</p>

<p><strong>Objective C</strong></p>

<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="bp">NSString</span> <span class="o">*</span><span class="n">myString</span> <span class="o">=</span> <span class="s">@&quot;This is my string&quot;</span> <span class="p">;</span>
<span class="n">myString</span> <span class="o">=</span> <span class="n">myString</span><span class="p">.</span><span class="n">translated</span><span class="p">;</span>
<span class="n">myString</span> <span class="o">=</span> <span class="p">[</span><span class="n">myString</span> <span class="nl">translatedWithContext</span><span class="p">:</span><span class="s">@&quot;This is my string&#39;s context&quot;</span><span class="p">];</span></code></pre></div>

<p><strong>Swift</strong></p>

<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">var</span> <span class="n">myString</span> <span class="o">=</span> <span class="s">&quot;This is my string&quot;</span>
<span class="n">myString</span> <span class="o">=</span> <span class="n">myString</span><span class="p">.</span><span class="n">translated</span>
<span class="n">myString</span> <span class="o">=</span> <span class="n">myString</span><span class="p">.</span><span class="n">translatedWithContext</span><span class="p">(</span><span class="s">&quot;This is my string’s context&quot;</span><span class="p">)</span></code></pre></div>

<blockquote>
  <p>Note: these functions will not work with <strong>static strings</strong> or string declared with <strong>let</strong> as they cannot be changed at runtime.</p>
</blockquote>

<h4 id="helper-commands"><strong>Helper Commands</strong></h4>

<p>Manually setting language</p>

<p><strong>Objective C</strong></p>

<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="p">[[</span><span class="n">Terrestrial</span> <span class="n">sharedInstance</span><span class="p">]</span>  <span class="nl">setCurrentLanguageTo</span><span class="p">:</span><span class="s">&quot;&lt;language code&gt;&quot;</span><span class="p">];</span></code></pre></div>

<p><strong>Swift</strong></p>

<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="n">Terrestrial</span><span class="p">.</span><span class="n">sharedInstance</span><span class="p">().</span><span class="n">setCurrentLanguageTo</span><span class="p">(</span><span class="s">&quot;&lt;language code&gt;&quot;</span><span class="p">)</span></code></pre></div>


			    	
			    </section>

			    



				

			  	

			    <section>

			    	
<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="ios">iOS</h3>

<h4 id="dyld-library-not-loaded-rpathlibswiftcoredylib">“dyld: Library not loaded: @rpath/libswiftCore.dylib”</h4>

<p>You’ll probably encounter this error when trying to build an Objective C project with our framework.
In order to make our framework work just as seamlessly with Swift, we had to embed some swift code into it.</p>

<p>So if you encounter this error make sure that the setting:</p>

<p><strong>“Embedded Content Contains Swift Code”</strong></p>

<p>is set to <strong>YES</strong>  in your Target’s build settings as shown below:</p>

<p><img src="/images/embedded-swift.png" alt="Terrestrial Embedded Swift" /></p>


			    	
			    </section>

			    



				

			  	

			    <section>

			    	
<h2 id="faq">FAQ</h2>


			    	
			    </section>

			    



				

			  	



				

				</section>

		

            </section>
            <aside id="sidebar">
                <p>Overview</p>
                <script async defer src="/js/toc.js"></script>
            </aside>
        </div>
    </div>
</body>
-->
<script type="text/javascript">
var bgWhite = false;

function checkWhiteBG() {

    var y = $(document).scrollTop();

    if (y >= $('.side-bar').offset().top && !bgWhite) {

        $('body').addClass('white-bg');
        bgWhite = true;

    } else if (bgWhite && y < $('.side-bar').offset().top) {

        $('body').removeClass('white-bg');
        bgWhite = false;

    }

}


$('.side-bar').affix({
    offset: {
        top: $('.side-bar').offset().top - 5
    }
});



$(window).scroll(function() {

    //checkWhiteBG();

});
</script>
<script async defer src="/js/toc.js"></script>

</html>